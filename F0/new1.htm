<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>斐波那契数列</title>
	<script src="jquery-2.1.4.js"></script>
	<style>
		body{
			text-align: center;
			font-size: 18px;
			font-family: "微软雅黑";
		}
		.error{
			color: #f00;
			border: 2px solid #abc;
			display: none;
		}
		.main{
			background: #ddd;
			width: 350px;
			margin: 150px auto;
			border: 2px solid;
		}
		.nav{
			background: #bbb;
			height: 25px;
			border: 1px solid;
			padding-top: 8px;
			color: black;
		}
	</style>
</head>
<body>
	<div class="main">
	<div class="nav">斐波那契数列</div>
	<form action="" >
	<p>你可以输入一个数(1-1476)：</p>
	<p>
		<input type="text"  name="num_In" id="num_In">
		<span class="error">请按要求输入！</span>
	</p>
	<p id="para1">
		<input type="button" value="提交" id="subButton" onclick="calculate()">
		<input type="reset" name="clrButton" value="清除" id="clrButton">
	</p>
	<p>
		结果:<input type="text" name="res_Out" id="res_Out">
	</p>
	</div>
</body>
<script>
/*计算斐波那契数列*/
function fib(n){
    var a,b,result;
    a = b = 1;
    if(n<=2) {return a;}
    for(var i=3;i<=n;i++){
        result = a + b;
        a = b;
        b = result;
    }
    return result;
}
</script>
<script>
$("#num_In").blur(function(){
	var val=$("#num_In").val();
	number=parseInt(val); 
	if(number>0&&number<=1476){
		$(this).next().hide();
	}else{
		$(this).next().show();
	}
});

function calculate(){
	"use strict";
	var result=new Number(fib(number));
	var node =document.createTextNode("fib"+"("+number+")"+"=");
	var para2=document.createElement("p");
  	para2.appendChild(node);
	var info_Para=document.getElementById("para1");
	para2.appendChild(node);
	var info_Res=document.getElementById("res_Out");
	info_Res.value=String(result);
}

$("#clrButton").click(function(){
	"use strict";
	window.location=window.location;
});

</script>
</html>
